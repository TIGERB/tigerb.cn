<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!--Description-->
    
        <meta name="description" content="No code No life">
    

    <!--Author-->
    
        <meta name="author" content="TIGERB">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="æˆ‘æ‰€ç†è§£çš„æ¥å£è®¾è®¡"/>
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="TIGERB"/>

    <!--Page Cover-->
    
        <meta property="og:image" content="undefined"/>
    

    <!-- Title -->
    
    <title>æˆ‘æ‰€ç†è§£çš„æ¥å£è®¾è®¡ - TIGERB</title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/sass/main.css">

    <!--[if lt IE 8]>
        <script src="/js/ie/html5shiv.js"></script>
    <![endif]-->

    <!--[if lt IE 8]>
        <link rel="stylesheet" href="/sass/ie8.css">
    <![endif]-->

    <!--[if lt IE 9]>
        <link rel="stylesheet" href="/sass/ie9.css">
    <![endif]-->

    <!-- Gallery -->
    <link href="https://cdn.bootcss.com/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Google Analytics -->
    


    <script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?30c7e7d53256334a8dc1cf524fcc77f6";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
    })();
    </script>

</head>

<body>

    <div id="wrapper">

        <!-- Menu -->
        <!-- Header -->
<header id="header">
    <div class="inner">

        <!-- Logo -->
        <a href="/" class="logo">
            <span class="symbol"><img src="http://cdn.tigerb.cn/20190330232521.png" alt="" /></span><span class="title">TIGERB</span>
        </a>

        <!-- Nav -->
        <nav>
            <ul>
                <li><a href="#menu">Menu</a></li>
            </ul>
        </nav>

    </div>
</header>

<!-- Menu -->
<nav id="menu">
    <h2>Menu</h2>
    <ul>
        
            <li>
                <a href="/">é¦–é¡µ</a>
            </li>
        
            <li>
                <a href="https://github.com/TIGERB">Github</a>
            </li>
        
            <li>
                <a href="https://segmentfault.com/u/tigerb">Segmentfault</a>
            </li>
        
            <li>
                <a href="https://juejin.im/user/5855e82d1b69e6006c9278b4">æ˜é‡‘</a>
            </li>
        
    </ul>
</nav>


        <div id="main">
            <div class="inner">

                <!-- Main Content -->
                

    <h1 class="title">æˆ‘æ‰€ç†è§£çš„æ¥å£è®¾è®¡</h1>
    <div class="meta">
        2018-03-13
    </div>


    <span class="image main"><img src="No Code No Life" alt="" /></span>


<!-- Gallery -->


<!-- Content -->
<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>è‡ªå·±åšæ¥å£å¼€å‘çš„æ—¶é—´ä¹Ÿç®—ä¸çŸ­äº†(ä¸‰å¹´)ï¼Œæƒ³å†™è¿™ç¯‡æ–‡ç« å…¶å®å·®ä¸å¤šå·²ç»æœ‰ä¸€å¹´å¤šçš„æ—¶é—´äº†ã€‚æˆ‘å°†ä»ä¸‹é¢çš„æ–¹å‘æ¥å¯¹æˆ‘æ‰€ç†è§£çš„æ¥å£è®¾è®¡åšä¸ªæ€»ç»“ï¼š</p>
<blockquote>
<p>æ¥å£å‚æ•°å®šä¹‰ -&gt; æ¥å£ç‰ˆæœ¬åŒ–çš„é—®é¢˜ -&gt; æ¥å£çš„å®‰å…¨æ€§ -&gt; æ¥å£çš„ä»£ç è®¾è®¡ -&gt; æ¥å£çš„å¯è¯»æ€§ -&gt; æ¥å£æ–‡æ¡£ -&gt; æˆ‘é‡åˆ°çš„å‘</p>
</blockquote>
<h1 id="æ¥å£å‚æ•°å®šä¹‰"><a href="#æ¥å£å‚æ•°å®šä¹‰" class="headerlink" title="æ¥å£å‚æ•°å®šä¹‰"></a>æ¥å£å‚æ•°å®šä¹‰</h1><p>æ¥å£è®¾è®¡ä¸­å¾€å¯ä»¥æŠ½è±¡å‡ºä¸€äº›æ–°çš„å…¬å…±å‚æ•°ï¼Œä»äº‹äº†è¿‘ä¸‰å¹´çš„æ¥å£å¼€å‘å·¥ä½œä¸­ï¼Œæˆ‘ç›®å‰èƒ½æƒ³åˆ°äº†ä¸€äº›è¾ƒä¸ºå¸¸è§çš„å…¬å…±æ¥å£å‚æ•°å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>å…¬å…±å‚æ•°</th>
<th>å«æ„</th>
<th>å®šä¹‰è¯¥å‚æ•°çš„æ„ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>timestamp</td>
<td>æ¯«ç§’çº§æ—¶é—´æˆ³</td>
<td>1.å®¢æˆ·ç«¯çš„è¯·æ±‚æ—¶é—´æ ‡ç¤º 2.åç«¯å¯ä»¥åšè¯·æ±‚è¿‡æœŸéªŒè¯ 3.è¯¥å‚æ•°å‚ä¸ç­¾åç®—æ³•å¢åŠ ç­¾åçš„å”¯ä¸€æ€§</td>
</tr>
<tr>
<td>app_key</td>
<td>ç­¾åå…¬é’¥</td>
<td>ç­¾åç®—æ³•çš„å…¬é’¥ï¼Œåç«¯é€šè¿‡å…¬é’¥å¯ä»¥å¾—åˆ°å¯¹åº”çš„ç§é’¥</td>
</tr>
<tr>
<td>sign</td>
<td>æ¥å£ç­¾å</td>
<td>é€šè¿‡è¯·æ±‚çš„å‚æ•°å’Œå®šä¹‰å¥½çš„ç­¾åç®—æ³•ç”Ÿæˆæ¥å£ç­¾åï¼Œä½œç”¨é˜²æ­¢ä¸­é—´äººç¯¡æ”¹è¯·æ±‚å‚æ•°</td>
</tr>
<tr>
<td>did</td>
<td>è®¾å¤‡ID</td>
<td>è®¾å¤‡çš„å”¯ä¸€æ ‡ç¤ºï¼Œç”Ÿæˆè§„åˆ™ä¾‹å¦‚androidçš„macåœ°å€çš„md5å’Œiosæ›¾ä»Šudid(ç›®å‰æ— æ³•è·å–)çš„md5, 1:æ•°æ®æ”¶é›† 2.ä¾¿äºé—®é¢˜è¿½è¸ª 3.æ¶ˆæ¯æ¨é€æ ‡ç¤º</td>
</tr>
</tbody>
</table>
<h1 id="æ¥å£ç‰ˆæœ¬åŒ–çš„é—®é¢˜"><a href="#æ¥å£ç‰ˆæœ¬åŒ–çš„é—®é¢˜" class="headerlink" title="æ¥å£ç‰ˆæœ¬åŒ–çš„é—®é¢˜"></a>æ¥å£ç‰ˆæœ¬åŒ–çš„é—®é¢˜</h1><p>æ¥å£è®¾è®¡ä¸­æœ‰ä¸ªç®—æ˜¯å†å²ä¸Šçš„éš¾é¢˜ -&gt; æ¥å£ç‰ˆæœ¬åŒ–ã€‚æ›¾ç»ä¹Ÿå»è°ƒç ”äº†å¾ˆå¤šå…³äºæ¥å£ç‰ˆæœ¬åŒ–çš„èµ„æ–™å’Œè®¾è®¡ï¼Œæœ€åæˆ‘å¾—åˆ°çš„ç»“è®ºå¤§è‡´å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ¥å£çš„ç‰ˆæœ¬åŒºåˆ†ä¸º<ul>
<li>å¤§ç‰ˆæœ¬<ul>
<li>åŸåˆ™ï¼šå¤§ç‰ˆæœ¬çš„æ•°é‡æœ€å¤šæ§åˆ¶åˆ°5ä¸ªä»¥å†…(æˆ‘ä¸ªäººè·Ÿå€¾å‘äº3ä¸ª)ï¼Œè¶…è¿‡ç‰ˆæœ¬é™åˆ¶çš„ç‰ˆæœ¬æç¤ºå‡çº§åˆ°æ–°ç‰ˆæœ¬</li>
<li>æ–¹æ¡ˆ<ul>
<li>uriæºå¸¦ç‰ˆæœ¬å·ï¼Œä¾‹å¦‚ï¼šv1/user/get</li>
<li>è¯·æ±‚å‚æ•°ï¼Œä¾‹å¦‚ï¼šuser/get?v=1.0</li>
</ul>
</li>
</ul>
</li>
<li>å°ç‰ˆæœ¬<ul>
<li>åŸåˆ™ï¼šè‡ªå·±æŠŠæ§å§ğŸ˜„</li>
<li>æ–¹æ¡ˆ<ul>
<li>uriæºå¸¦ç‰ˆæœ¬å·ï¼Œä¾‹å¦‚ï¼šv1/user/get_01</li>
<li>è¯·æ±‚å‚æ•°ï¼Œå°æ•°ç‚¹å³è¾¹å°±æ˜¯å°ç‰ˆæœ¬ï¼Œä¾‹å¦‚ï¼šuser/get?v=1.1</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="æ¥å£çš„å®‰å…¨æ€§"><a href="#æ¥å£çš„å®‰å…¨æ€§" class="headerlink" title="æ¥å£çš„å®‰å…¨æ€§"></a>æ¥å£çš„å®‰å…¨æ€§</h1><p>æ¥å£çš„è®¾è®¡è‚¯å®šç»•ä¸å¼€å®‰å…¨è¿™ä¸¤ä¸ªå­—ï¼Œä¸ºäº†è¾¾åˆ°å°½å¯èƒ½çš„å®‰å…¨ï¼Œæˆ‘ä»¬éœ€è¦<strong>å°½å¯èƒ½çš„å¢åŠ è¢«æ”»å‡»çš„éš¾åº¦</strong>ï¼Œä»¥ä¸‹æ˜¯æˆ‘äº†è§£å’Œä½¿ç”¨åˆ°çš„ä¸€äº›å¸¸è§çš„æ‰‹æ®µå»å¢åŠ æ¥å£çš„å®‰å…¨æ€§(httpsè¿™é‡Œå°±ä¸è®¨è®ºäº†)ï¼š</p>
<blockquote>
<p>è¿‡æœŸéªŒè¯ï¼ç­¾åéªŒè¯ï¼é‡è®¿æ”»å‡»ï¼é™æµï¼è½¬ä¹‰</p>
</blockquote>
<p>ä¼ªä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// è¿‡æœŸéªŒè¯</span><br><span class="line">if (microtime(true)*1000 - $_REQUEST[&apos;timestamp&apos;] &gt; 5000) &#123;</span><br><span class="line">    throw new \Exception(401, &apos;Expired request&apos;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// ç­¾åéªŒè¯(å…¬é’¥æ ¡éªŒçœç•¥)</span><br><span class="line">$params = ksort($_REQUEST);</span><br><span class="line">unset($params[&apos;sign&apos;]);</span><br><span class="line">$sign = md5(sha1(implode(&apos;-&apos;, $params) . $_REQUEST[&apos;app_key&apos;]));</span><br><span class="line">if ($sign !== $_REQUEST[&apos;sign&apos;]) &#123;</span><br><span class="line">    throw new \Exception(401, &apos;Invalid sign&apos;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * é‡è®¿æ”»å‡»</span><br><span class="line"> * @params noise string éšæœºå­—ç¬¦ä¸²</span><br><span class="line"> */</span><br><span class="line">$key = md5(&quot;&#123;$_REQUEST[&apos;REQUEST_URI&apos;]&#125;-&#123;$_REQUEST[&apos;timestamp&apos;]&#125;-&#123;$_REQUEST[&apos;noise&apos;]&#125;-&#123;$_REQUEST[&apos;did&apos;]&#125;&quot;);</span><br><span class="line">if ($redisInstance-&gt;exists($key)) &#123;</span><br><span class="line">    throw new \Exception(401, &apos;Repeated request&apos;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// é™æµ</span><br><span class="line">$key = md5(&quot;&#123;$_REQUEST[&apos;REQUEST_URI&apos;]&#125;-&#123;$_REQUEST[&apos;REMOTE_ADDR&apos;]&#125;-&#123;$_REQUEST[&apos;did&apos;]&#125;&quot;);</span><br><span class="line">if ($redisInstance-&gt;get($key) &gt; 60) &#123;</span><br><span class="line">    throw new \Exception(401, &apos;Request limit&apos;);</span><br><span class="line">&#125;</span><br><span class="line">$redisInstance-&gt;incre($key);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// è½¬ä¹‰</span><br><span class="line">$username = htmlspecialchars($_REQUEST[&apos;username&apos;]);</span><br></pre></td></tr></table></figure>
<h1 id="æ¥å£çš„ä»£ç è®¾è®¡-gt-è§£è€¦ä¸šåŠ¡-å³æ’å³ç”¨"><a href="#æ¥å£çš„ä»£ç è®¾è®¡-gt-è§£è€¦ä¸šåŠ¡-å³æ’å³ç”¨" class="headerlink" title="æ¥å£çš„ä»£ç è®¾è®¡ -&gt; è§£è€¦ä¸šåŠ¡ å³æ’å³ç”¨"></a>æ¥å£çš„ä»£ç è®¾è®¡ -&gt; è§£è€¦ä¸šåŠ¡ å³æ’å³ç”¨</h1><blockquote>
<p>è¿™ä¸ªè¿‡ç¨‹çš„å…³é”®å­—ï¼šæŠ½è±¡æˆç±» å‰ç½®ä¸­é—´ä»¶ æ³¨å…¥</p>
</blockquote>
<p>æ¥ç€å°±æ˜¯æˆ‘ä»¬ä»£ç è®¾è®¡çš„å±‚é¢äº†ï¼Œå¦‚ä½•æŠ½è±¡å…¬å…±çš„éƒ¨åˆ†ä¸ä¸šåŠ¡ä»£ç è§£è€¦ã€‚</p>
<p>ä¸€èˆ¬å†™æ³•, å®šä¹‰ä¸ªå…¨å±€å‡½æ•°ï¼Œç„¶åæ¯ä¸ªæ¥å£å¼€å§‹æ—¶è°ƒç”¨è¯¥å‡½æ•°ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// å…¨å±€å®šä¹‰ä¸€ä¸ªå‡½æ•°</span><br><span class="line">function check () &#123;</span><br><span class="line">    // æ ¡éªŒå…¬å…±å‚æ•°</span><br><span class="line">    # code ...</span><br><span class="line">    // æ ¡éªŒç­¾å</span><br><span class="line">    # code ...</span><br><span class="line">    // æ ¡éªŒé¢‘ç‡</span><br><span class="line">    # code ...</span><br><span class="line">    // ç­‰ç­‰...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>äºŒèˆ¬å†™æ³•, å®šä¹‰ä¸ªçˆ¶ç±»æ–¹æ³•ï¼Œç„¶åæ¯ä¸ªæ¥å£ç±»ç»§æ‰¿è¯¥æ¥å£ï¼Œæ„é€ å‡½æ•°è°ƒç”¨æ”¹æ–¹æ³•ï¼Œå…¶å®å’Œä¸Šé¢çš„æ¢æ±¤ä¸æ¢è¯ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// çˆ¶ç±»æ–¹æ³•</span><br><span class="line"></span><br><span class="line">class father</span><br><span class="line">&#123;</span><br><span class="line">    public function __construct()</span><br><span class="line">    &#123;</span><br><span class="line">        $this-&gt;check();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public function check () &#123;</span><br><span class="line">        // æ ¡éªŒå…¬å…±å‚æ•°</span><br><span class="line">        # code ...</span><br><span class="line">        // æ ¡éªŒç­¾å</span><br><span class="line">        # code ...</span><br><span class="line">        // æ ¡éªŒé¢‘ç‡</span><br><span class="line">        # code ...</span><br><span class="line">        // ç­‰ç­‰...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>é‡ç‚¹æ¥äº†ï¼Œæˆ‘æå€¡çš„ç¬¬ä¸‰èˆ¬å†™æ³•ï¼Œå¯¹è±¡é“¾å’Œå‰ç½®ä¸­é—´ä»¶ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * æ£€éªŒæŠ½è±¡ç±»</span><br><span class="line"> */</span><br><span class="line">abstract class Check</span><br><span class="line">&#123;</span><br><span class="line">    /**</span><br><span class="line">     * ä¸‹ä¸€ä¸ªcheckå®ä½“</span><br><span class="line">     *</span><br><span class="line">     * @var object</span><br><span class="line">     */</span><br><span class="line">    private $nextCheckInstance;</span><br><span class="line">    </span><br><span class="line">    /**</span><br><span class="line">     * æ ¡éªŒæ–¹æ³•</span><br><span class="line">     *</span><br><span class="line">     * @param Request $request è¯·æ±‚å¯¹è±¡</span><br><span class="line">     */</span><br><span class="line">    abstract public function operate(Request $request);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * è®¾ç½®è´£ä»»é“¾ä¸Šçš„ä¸‹ä¸€ä¸ªå¯¹è±¡</span><br><span class="line">     *</span><br><span class="line">     * @param Check $check</span><br><span class="line">     */</span><br><span class="line">    public function setNext(Check $check)</span><br><span class="line">    &#123;</span><br><span class="line">        $this-&gt;nextCheckInstance = $check;</span><br><span class="line">        return $check;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * å¯åŠ¨</span><br><span class="line">     *</span><br><span class="line">     * @param Request $request è¯·æ±‚å¯¹è±¡</span><br><span class="line">     */</span><br><span class="line">    public function start(Request $request)</span><br><span class="line">    &#123;</span><br><span class="line">        $this-&gt;doCheck($request);</span><br><span class="line">        // è°ƒç”¨ä¸‹ä¸€ä¸ªå¯¹è±¡</span><br><span class="line">        if (! empty($this-&gt;nextCheckInstance)) &#123;</span><br><span class="line">            $this-&gt;nextCheckInstance-&gt;start($request);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æ ¡éªŒå…¬å…±å‚æ•°ç±»</span><br><span class="line">class ParamsCheck extends Check</span><br><span class="line">&#123;</span><br><span class="line">    public function operate()</span><br><span class="line">    &#123;</span><br><span class="line">       // æ ¡éªŒå…¬å…±å‚æ•°</span><br><span class="line">        # code ... </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æ ¡éªŒç­¾åç±»</span><br><span class="line">class SignCheck extends Check</span><br><span class="line">&#123;</span><br><span class="line">    public function operate()</span><br><span class="line">    &#123;</span><br><span class="line">       // æ ¡éªŒç­¾å</span><br><span class="line">        # code ... </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ç­‰ç­‰...</span><br><span class="line"></span><br><span class="line">// å‰ç½®ä¸­é—´ä»¶ç±»</span><br><span class="line">class FrontMiddleware</span><br><span class="line">&#123;</span><br><span class="line">    public function run()</span><br><span class="line">    &#123;</span><br><span class="line">        // åˆå§‹åŒ–ä¸€ä¸ªï¼šå¿…ä¼ å‚æ•°æ ¡éªŒçš„check</span><br><span class="line">        $checkParams   =  new ParamsCheck();</span><br><span class="line">        // åˆå§‹åŒ–ä¸€ä¸ªï¼šç­¾åcheck</span><br><span class="line">        $checkSign     =  new SignCheck();</span><br><span class="line">        // åˆå§‹åŒ–ä¸€ä¸ªï¼šé¢‘ç‡check</span><br><span class="line">        $checkFrequent =  new FrequentCheck();</span><br><span class="line">        // ç­‰ç­‰...</span><br><span class="line"></span><br><span class="line">        // æ„æˆå¯¹è±¡é“¾</span><br><span class="line">        $checkParams-&gt;setNext($checkSign)</span><br><span class="line">                    -&gt;setNext($checkFrequent)</span><br><span class="line">                    ...</span><br><span class="line">        // å¯åŠ¨</span><br><span class="line">        $checkArguments-&gt;start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="æ¥å£çš„å¯è¯»æ€§"><a href="#æ¥å£çš„å¯è¯»æ€§" class="headerlink" title="æ¥å£çš„å¯è¯»æ€§"></a>æ¥å£çš„å¯è¯»æ€§</h1><p>å…³äºå¯è¯»æ€§çš„ä¸å¾—ä¸æåˆ°çš„å°±æ˜¯RESTFULï¼Œè¿™é‡Œæˆ‘å°±ä¸è®¨è®ºRESTFULï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œè¡¥å……ç›¸å…³çŸ¥è¯†ã€‚å…³äºæ¥å£è®¾è®¡å¯è¯»æ€§çš„æˆ‘çš„ä¸€äº›æ€è€ƒï¼š</p>
<ul>
<li>url<ul>
<li>éRESTFUL: èµ„æºï¼èµ„æºï¼æ“ä½œ(åŠ¨è¯)ï¼Œ ä¾‹å¦‚ content/article/get -&gt; è·å–å†…å®¹èµ„æºä¸‹çš„ä¸€ç¯‡æ–‡ç« èµ„æº</li>
<li>RESTFUL: èµ„æºï¼èµ„æºï¼èµ„æºï¼Œ ä¾‹å¦‚ get content/article/1 -&gt; è·å–å†…å®¹èµ„æºä¸‹æ–‡ç« IDä¸º1çš„æ–‡ç« èµ„æº</li>
</ul>
</li>
<li>method<ul>
<li>éRESTFUL: getä¾¿äºæŸ¥nginxæ—¥å¿—ï¼Œä¸Šä¼ èµ„æºpost, æ²¡å•¥ç¡¬æ€§è¦æ±‚</li>
<li>RESTFUL: ç¬¦åˆRESTFULçš„æ€æƒ³</li>
</ul>
</li>
<li>request params: ä¸ªäººæ›´é’çäºä¸‹åˆ’çº¿å‘½åï¼Œé€‚å½“çš„å•è¯ç¼©å†™</li>
<li>response params: å“åº”çš„codeè¦ç¬¦åˆhttp status<ul>
<li>200 -&gt; æ­£å¸¸</li>
<li>400 -&gt; ç¼ºå°‘å…¬å…±å¿…ä¼ å‚æ•°æˆ–è€…ä¸šåŠ¡å¿…ä¼ å‚æ•°</li>
<li>401 -&gt; æ¥å£æ ¡éªŒå¤±è´¥ ä¾‹å¦‚ç­¾å</li>
<li>403 -&gt; æ²¡æœ‰è¯¥æ¥å£çš„è®¿é—®æƒé™</li>
<li>499 -&gt; ä¸Šæ¸¸æœåŠ¡å“åº”æ—¶é—´è¶…è¿‡æ¥å£è®¾ç½®çš„è¶…æ—¶æ—¶é—´</li>
<li>500 -&gt; ä»£ç é”™è¯¯</li>
<li>501 -&gt; ä¸æ”¯æŒçš„æ¥å£method</li>
<li>502 -&gt; ä¸Šæ¸¸æœåŠ¡è¿”å›çš„æ•°æ®æ ¼å¼ä¸æ­£ç¡®</li>
<li>503 -&gt; ä¸Šæ¸¸æœåŠ¡è¶…æ—¶</li>
<li>504 -&gt; ä¸Šæ¸¸æœåŠ¡ä¸å¯ç”¨</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// å“åº”çš„æ ¼å¼</span><br><span class="line">&#123;</span><br><span class="line">    &quot;code&quot;: 200,</span><br><span class="line">    &quot;msg&quot;: &quot;ok&quot;,</span><br><span class="line">    &quot;data&quot;: &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="æ¥å£æ–‡æ¡£"><a href="#æ¥å£æ–‡æ¡£" class="headerlink" title="æ¥å£æ–‡æ¡£"></a>æ¥å£æ–‡æ¡£</h1><p>å¥½çš„æ¥å£æ–‡æ¡£å°±æ˜¯ç”Ÿäº§åŠ›ï¼Œ swagger + api blueprint è‡ªè¡Œgoogleå§ğŸ˜„</p>
<h1 id="æˆ‘é‡åˆ°çš„å‘"><a href="#æˆ‘é‡åˆ°çš„å‘" class="headerlink" title="æˆ‘é‡åˆ°çš„å‘"></a>æˆ‘é‡åˆ°çš„å‘</h1><p>è¿™é‡Œé‡åˆ°çš„ä¸€ä¸ªæ¯”è¾ƒå¤§çš„å‘å°±æ˜¯httpåè®®å†å²é—ç•™çš„bugï¼š</p>
<blockquote>
<p>ä¸åŒºåˆ†urlé‡Œçš„ç©ºæ ¼ å’ŒåŠ å·â•</p>
</blockquote>
<p>å¸¦æ¥çš„é—®é¢˜å°±æ˜¯urldecodeä¼šæŠŠå‚æ•°é‡Œçš„+å·è½¬ä¸ºç©ºæ ¼ï¼Œæ‰€ä»¥è¿™ç§åœºæ™¯çš„å°±å¾—ä½¿ç”¨rawurldecodeé˜²æ­¢+è½¬æˆç©ºæ ¼ã€‚æ¯”å¦‚åšæ¥å£çš„å‚æ•°æ ¡éªŒçš„æ—¶å€™ï½</p>


<!-- Tags -->



<div class="tags">
    <a href="/tags/api/" class="button small">api</a>
</div>



<!-- Comments -->
<div>
    
    <hr />
    <h3>Comments:</h3>
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>



</div>



            </div>
        </div>

        <!-- Footer -->
<footer id="footer">
    <div class="inner">
        <section>
            <h2>About</h2>
            <div>
                æ–°ä¸€ä»£è½»é‡çº§PHPæ¡†æ¶ã€Œ<a href='http://easy-php.tigerb.cn'>EasyPHP</a>ã€ä½œè€…ï¼Œã€Œ<a href='http://skrshop.tech/'>ã€Šç”µå•†è®¾è®¡æ‰‹å†Œã€‹</a>ã€ä½œè€…ï¼Œæ‹¥æœ‰A/B/Cè½®ç”µå•†åˆ›ä¸šå…¬å¸å·¥ä½œç»éªŒï¼Œç°äºå°ç±³ç§‘æŠ€æµ·å¤–å•†åŸç»„ä»äº‹å•†åŸåç«¯ç ”å‘å·¥ä½œã€‚
            </div>
        </section>
        <section>
            <h2>Follow</h2>
            <ul class="icons">
                
                    <li><a href="https://twitter.com/CODERCOOKER" class="icon style2 fa-twitter" target="_blank" ><span class="label">Twitter</span></a></li>
                
                
                
                    <li><a href="https://www.instagram.com/codercooker/" class="icon style2 fa-instagram" target="_blank" ><span class="label">Instagram</span></a></li>
                
                
                
                    <li><a href="https://github.com/TIGERB" class="icon style2 fa-github" target="_blank" ><span class="label">GitHub</span></a></li>
                
                
                
                
                
                    <li><a href="mailto:tigerbcode@gmail.com" class="icon style2 fa-envelope-o" target="_blank" ><span class="label">Email</span></a></li>
                
                
                    <li><a href="\atom.xml" class="icon style2 fa-rss" target="_blank" ><span class="label">RSS</span></a></li>
                
            </ul>
        </section>
        <ul class="copyright">
            <li>&copy; TIGERB.cn All right reserved. æ´¥ICPå¤‡17006784å·-2</li>
            <li><a href="https://juejin.im/user/5855e82d1b69e6006c9278b4" target="_blank">juejin</a></li>
            <li><a href="https://segmentfault.com/u/tigerb" target="_blank">Segmentfault</a></li>
            <li><a href="http://skrshop.tech/">ç”µå•†è®¾è®¡æ‰‹å†Œ</a></li>
            <li><a href="https://dayutalk.cn/">å¤§æ„šTalk</a></li>
        </ul>
    </div>
</footer>
    </div>

    <!-- After footer scripts -->
    
<!-- jQuery -->
<script src="/js/jquery.min.js"></script>

<!-- skel -->
<script src="/js/skel.min.js"></script>

<!-- Custom Code -->
<script src="/js/util.js"></script>

<!--[if lte IE 8]>
<script src="/js/ie/respond.min.js"></script>
<![endif]-->

<!-- Custom Code -->
<script src="/js/main.js"></script>

<!-- Gallery -->
<script src="https://cdn.bootcss.com/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->

<script type="text/javascript">
    var disqus_shortname = 'klugjo';

    (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>


</body>

</html>